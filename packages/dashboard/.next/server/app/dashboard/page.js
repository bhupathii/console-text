(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},86624:e=>{"use strict";e.exports=require("querystring")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},91834:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(58262),t(74773),t(31306),t(58909);var r=t(93282),a=t(5736),l=t(93906),i=t.n(l),n=t(36880),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,58262)),"C:\\Users\\hvign\\Desktop\\console-text\\packages\\dashboard\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,74773)),"C:\\Users\\hvign\\Desktop\\console-text\\packages\\dashboard\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,31306)),"C:\\Users\\hvign\\Desktop\\console-text\\packages\\dashboard\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,58909)),"C:\\Users\\hvign\\Desktop\\console-text\\packages\\dashboard\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\hvign\\Desktop\\console-text\\packages\\dashboard\\src\\app\\dashboard\\page.tsx"],x="/dashboard/page",u={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},87956:(e,s,t)=>{Promise.resolve().then(t.bind(t,57834))},57834:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(73227),a=t(23677),l=t(9925);function i({user:e,initialProjects:s}){let{data:t}=(0,l.useSession)(),[i]=(0,a.useState)(s),[n,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[x,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),h=async()=>{if(x.trim()){o(!0);try{(await fetch("/api/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x,description:m})})).ok?window.location.reload():console.error("Failed to create project")}catch(e){console.error("Error creating project:",e)}finally{o(!1)}}},g=e=>{navigator.clipboard.writeText(e),alert("API key copied to clipboard!")};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white text-sm font-bold",children:"CT"})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Console.text"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Dashboard"})]})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[t?.user?.image&&r.jsx("img",{src:t.user.image,alt:"Profile",className:"w-8 h-8 rounded-full"}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:t?.user?.name||"User"}),r.jsx("p",{className:"text-xs text-gray-500",children:e.email})]})]}),r.jsx("button",{onClick:()=>{(0,l.signOut)({callbackUrl:"/"})},className:"text-gray-500 hover:text-gray-700 px-3 py-2 rounded-md text-sm font-medium",children:"Sign out"})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t?.user?.name?.split(" ")[0]||"Developer","! \uD83D\uDC4B"]}),r.jsx("p",{className:"text-gray-600",children:"Manage your Console.text projects and monitor your Telegram alerts"})]}),(0,r.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-8",children:[r.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"\uD83C\uDF89 Authentication Successful!"}),r.jsx("p",{className:"text-green-700",children:"Your Console.text dashboard is now fully configured and ready to use. You can now create projects and receive Telegram alerts."})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Projects"}),r.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Project"})]}),0===i.length?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-gray-400 text-2xl",children:"\uD83D\uDCDD"})}),r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first project to start receiving Telegram alerts"}),r.jsx("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Project"})]}):r.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:e.name}),e.description&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),r.jsx("div",{className:`w-3 h-3 rounded-full ${e.enabled?"bg-green-500":"bg-gray-300"}`})]}),(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"API Key"}),(0,r.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[(0,r.jsxs)("code",{className:"flex-1 bg-gray-50 text-xs font-mono px-2 py-1 rounded border",children:[e.api_key.substring(0,20),"..."]}),r.jsx("button",{onClick:()=>g(e.api_key),className:"text-gray-400 hover:text-gray-600 p-1",title:"Copy API Key",children:"\uD83D\uDCCB"})]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:["Created ",new Date(e.created_at).toLocaleDateString()]})]},e.id))})]}),(0,r.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"\uD83D\uDE80 Next Steps"}),(0,r.jsxs)("div",{className:"text-blue-700 space-y-2",children:[r.jsx("p",{children:"• Create a project and get your API key"}),r.jsx("p",{children:"• Set up your Telegram bot for notifications"}),r.jsx("p",{children:"• Integrate Console.text with your applications"}),r.jsx("p",{children:"• Start monitoring your logs in real-time!"})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Project"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name *"}),r.jsx("input",{type:"text",value:x,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"My awesome project"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:m,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Optional description..."})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:h,disabled:n||!x.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Creating...":"Create Project"})]})]})})]})}},58262:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,dynamic:()=>l});var r=t(99013),a=t(89011);let l="force-dynamic";async function i(){try{let{getServerSession:e}=await Promise.all([t.e(295),t.e(521)]).then(t.bind(t,1295)),{createClient:s}=await t.e(235).then(t.bind(t,59235)),r=s("https://rmuwpnlgkuphctznykli.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY),a=await e();if(!a?.user?.email)return null;let{data:l,error:i}=await r.from("users").select("*").eq("email",a.user.email).single();if(i)return console.error("Error fetching user:",i),null;return l}catch(e){return console.error("Auth error:",e),null}}async function n(e){try{let{createClient:s}=await t.e(235).then(t.bind(t,59235)),r=s("https://rmuwpnlgkuphctznykli.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY),{data:a,error:l}=await r.from("projects").select("*").eq("user_id",e).eq("enabled",!0);if(l)return console.error("Error fetching projects:",l),[];return a}catch(e){return console.error("Projects fetch error:",e),[]}}async function o(){if(!(process.env.SUPABASE_SERVICE_ROLE_KEY&&process.env.GOOGLE_CLIENT_ID&&process.env.GOOGLE_CLIENT_SECRET&&process.env.NEXTAUTH_SECRET&&process.env.NEXTAUTH_URL))return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 flex items-center justify-center p-4",children:r.jsx("div",{className:"max-w-2xl mx-auto text-center",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg",children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx("span",{className:"text-green-600 text-2xl",children:"\uD83D\uDCCA"})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),r.jsx("p",{className:"text-gray-600",children:"Configuration required"})]}),(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-yellow-800 mb-3",children:"\uD83D\uDD27 Setup Required"}),r.jsx("p",{className:"text-yellow-700",children:"Environment variables need to be configured."})]})]})})});let e=await i();e||(0,a.redirect)("/auth/signin");let s=await n(e.id),{default:l}=await t.e(389).then(t.bind(t,81389));return r.jsx(l,{user:e,initialProjects:s})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[193,2,698],()=>t(91834));module.exports=r})();